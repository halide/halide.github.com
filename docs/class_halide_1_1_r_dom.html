<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Halide: Halide::RDom Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Halide<span id="projectnumber">&#160;19.0.0</span>
   </div>
   <div id="projectbrief">Halide compiler and libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_halide_1_1_r_dom.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_halide_1_1_r_dom-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Halide::RDom Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A multi-dimensional domain over which to iterate.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_r_dom_8h_source.html">RDom.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a67f1c2b2c0c169dfa82f9698b302d659" id="r_a67f1c2b2c0c169dfa82f9698b302d659"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67f1c2b2c0c169dfa82f9698b302d659">RDom</a> ()=default</td></tr>
<tr class="memdesc:a67f1c2b2c0c169dfa82f9698b302d659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an undefined reduction domain.  <br /></td></tr>
<tr class="separator:a67f1c2b2c0c169dfa82f9698b302d659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0bf61061a972b499ae71c8a6d7e64f" id="r_a6c0bf61061a972b499ae71c8a6d7e64f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_util_8h.html#a53da0047a6b6ce91b46f76c018d63931">HALIDE_NO_USER_CODE_INLINE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c0bf61061a972b499ae71c8a6d7e64f">RDom</a> (const <a class="el" href="namespace_halide.html#adac6d1605235bf518c12a05ed6850d43">Region</a> &amp;region, std::string name=&quot;&quot;)</td></tr>
<tr class="memdesc:a6c0bf61061a972b499ae71c8a6d7e64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a multi-dimensional reduction domain with the given name.  <br /></td></tr>
<tr class="separator:a6c0bf61061a972b499ae71c8a6d7e64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc639933013d9a900733ae060c7058c" id="r_accc639933013d9a900733ae060c7058c"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:accc639933013d9a900733ae060c7058c"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="_util_8h.html#a53da0047a6b6ce91b46f76c018d63931">HALIDE_NO_USER_CODE_INLINE</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#accc639933013d9a900733ae060c7058c">RDom</a> (<a class="el" href="struct_halide_1_1_expr.html">Expr</a> <a class="el" href="namespace_halide.html#a842daf6fbd0f87ec9ea8336cb0cdd23e">min</a>, <a class="el" href="struct_halide_1_1_expr.html">Expr</a> extent, Args &amp;&amp;...args)</td></tr>
<tr class="separator:accc639933013d9a900733ae060c7058c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45d552a36e2a8c8daf479fe058b1d15" id="r_ab45d552a36e2a8c8daf479fe058b1d15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab45d552a36e2a8c8daf479fe058b1d15">RDom</a> (const <a class="el" href="class_halide_1_1_buffer.html">Buffer</a>&lt; void, -1 &gt; &amp;)</td></tr>
<tr class="memdesc:ab45d552a36e2a8c8daf479fe058b1d15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a reduction domain that iterates over all points in a given <a class="el" href="class_halide_1_1_buffer.html" title="A Halide::Buffer is a named shared reference to a Halide::Runtime::Buffer.">Buffer</a> or <a class="el" href="class_halide_1_1_image_param.html" title="An Image parameter to a halide pipeline.">ImageParam</a>.  <br /></td></tr>
<tr class="separator:ab45d552a36e2a8c8daf479fe058b1d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bd6e1c4e3b85eaca7d961ea558cfff" id="r_ac8bd6e1c4e3b85eaca7d961ea558cfff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8bd6e1c4e3b85eaca7d961ea558cfff">RDom</a> (const <a class="el" href="class_halide_1_1_output_image_param.html">OutputImageParam</a> &amp;)</td></tr>
<tr class="separator:ac8bd6e1c4e3b85eaca7d961ea558cfff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b9c8d233cff2113cb5aa9dc29b625e" id="r_ae6b9c8d233cff2113cb5aa9dc29b625e"><td class="memTemplParams" colspan="2">template&lt;typename T , int Dims&gt; </td></tr>
<tr class="memitem:ae6b9c8d233cff2113cb5aa9dc29b625e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="_util_8h.html#a53da0047a6b6ce91b46f76c018d63931">HALIDE_NO_USER_CODE_INLINE</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae6b9c8d233cff2113cb5aa9dc29b625e">RDom</a> (const <a class="el" href="class_halide_1_1_buffer.html">Buffer</a>&lt; T, Dims &gt; &amp;im)</td></tr>
<tr class="separator:ae6b9c8d233cff2113cb5aa9dc29b625e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64be732e23f451c469d0c50732aebb4f" id="r_a64be732e23f451c469d0c50732aebb4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64be732e23f451c469d0c50732aebb4f">RDom</a> (const <a class="el" href="class_halide_1_1_internal_1_1_reduction_domain.html">Internal::ReductionDomain</a> &amp;d)</td></tr>
<tr class="memdesc:a64be732e23f451c469d0c50732aebb4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a reduction domain that wraps an <a class="el" href="namespace_halide_1_1_internal.html">Internal</a> ReductionDomain object.  <br /></td></tr>
<tr class="separator:a64be732e23f451c469d0c50732aebb4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ea6e69f2389b6efdfbacc399c99b46" id="r_ae9ea6e69f2389b6efdfbacc399c99b46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_halide_1_1_internal_1_1_reduction_domain.html">Internal::ReductionDomain</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9ea6e69f2389b6efdfbacc399c99b46">domain</a> () const</td></tr>
<tr class="memdesc:ae9ea6e69f2389b6efdfbacc399c99b46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get at the internal reduction domain object that this wraps.  <br /></td></tr>
<tr class="separator:ae9ea6e69f2389b6efdfbacc399c99b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248780cd41a426d451fcff015e78e286" id="r_a248780cd41a426d451fcff015e78e286"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a248780cd41a426d451fcff015e78e286">defined</a> () const</td></tr>
<tr class="memdesc:a248780cd41a426d451fcff015e78e286"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if this reduction domain is non-null.  <br /></td></tr>
<tr class="separator:a248780cd41a426d451fcff015e78e286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f046043a6c2fc7ac728d7d282f2dec6" id="r_a0f046043a6c2fc7ac728d7d282f2dec6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f046043a6c2fc7ac728d7d282f2dec6">same_as</a> (const <a class="el" href="class_halide_1_1_r_dom.html">RDom</a> &amp;other) const</td></tr>
<tr class="memdesc:a0f046043a6c2fc7ac728d7d282f2dec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two reduction domains for equality of reference.  <br /></td></tr>
<tr class="separator:a0f046043a6c2fc7ac728d7d282f2dec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8d79cee448ee0664978ee8cd98fe7b" id="r_a5d8d79cee448ee0664978ee8cd98fe7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d8d79cee448ee0664978ee8cd98fe7b">dimensions</a> () const</td></tr>
<tr class="memdesc:a5d8d79cee448ee0664978ee8cd98fe7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the dimensionality of a reduction domain.  <br /></td></tr>
<tr class="separator:a5d8d79cee448ee0664978ee8cd98fe7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ee8e4fb9e9825e9276115d72f44331" id="r_ac5ee8e4fb9e9825e9276115d72f44331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_halide_1_1_r_var.html">RVar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5ee8e4fb9e9825e9276115d72f44331">operator[]</a> (int) const</td></tr>
<tr class="memdesc:ac5ee8e4fb9e9825e9276115d72f44331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get at one of the dimensions of the reduction domain.  <br /></td></tr>
<tr class="separator:ac5ee8e4fb9e9825e9276115d72f44331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf382bcc7a5f800de35d136d23a9e210" id="r_abf382bcc7a5f800de35d136d23a9e210"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf382bcc7a5f800de35d136d23a9e210">operator RVar</a> () const</td></tr>
<tr class="memdesc:abf382bcc7a5f800de35d136d23a9e210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single-dimensional reduction domains can be used as RVars directly.  <br /></td></tr>
<tr class="separator:abf382bcc7a5f800de35d136d23a9e210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac08072d2bfc16f7da8eb1f339b0cef6f" id="r_ac08072d2bfc16f7da8eb1f339b0cef6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac08072d2bfc16f7da8eb1f339b0cef6f">operator Expr</a> () const</td></tr>
<tr class="memdesc:ac08072d2bfc16f7da8eb1f339b0cef6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single-dimensional reduction domains can be also be used as Exprs directly.  <br /></td></tr>
<tr class="separator:ac08072d2bfc16f7da8eb1f339b0cef6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab412e453375071f67584442a0dc71dd8" id="r_ab412e453375071f67584442a0dc71dd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab412e453375071f67584442a0dc71dd8">where</a> (<a class="el" href="struct_halide_1_1_expr.html">Expr</a> predicate)</td></tr>
<tr class="memdesc:ab412e453375071f67584442a0dc71dd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a predicate to the <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a>.  <br /></td></tr>
<tr class="separator:ab412e453375071f67584442a0dc71dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9c41992ecccbe2eea2430a65a1dc7614" id="r_a9c41992ecccbe2eea2430a65a1dc7614"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_halide_1_1_r_var.html">RVar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a></td></tr>
<tr class="memdesc:a9c41992ecccbe2eea2430a65a1dc7614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct access to the first four dimensions of the reduction domain.  <br /></td></tr>
<tr class="separator:a9c41992ecccbe2eea2430a65a1dc7614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ec82ccc25c587c18ea174a9c7a46ff" id="r_ab9ec82ccc25c587c18ea174a9c7a46ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_halide_1_1_r_var.html">RVar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a></td></tr>
<tr class="separator:ab9ec82ccc25c587c18ea174a9c7a46ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6686151e240f259d7df5b4411b58f6ba" id="r_a6686151e240f259d7df5b4411b58f6ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_halide_1_1_r_var.html">RVar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6686151e240f259d7df5b4411b58f6ba">z</a></td></tr>
<tr class="separator:a6686151e240f259d7df5b4411b58f6ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6111104a192cc83a1fa7d58d9202b8fc" id="r_a6111104a192cc83a1fa7d58d9202b8fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_halide_1_1_r_var.html">RVar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6111104a192cc83a1fa7d58d9202b8fc">w</a></td></tr>
<tr class="separator:a6111104a192cc83a1fa7d58d9202b8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A multi-dimensional domain over which to iterate. </p>
<p>Used when defining functions with update definitions.</p>
<p>An reduction is a function with a two-part definition. It has an initial value, which looks much like a pure function, and an update definition, which may refer to some <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a>. Evaluating such a function first initializes it over the required domain (which is inferred based on usage), and then runs update rule for all points in the <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a>. For example:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_halide_1_1_func.html">Func</a> f;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_var.html">Var</a> <a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_r_dom.html">RDom</a> r(0, 10);</div>
<div class="line">f(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>) = <a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>; <span class="comment">// the initial value</span></div>
<div class="line">f(r) = f(r) * 2;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_buffer.html">Buffer&lt;int&gt;</a> result = f.<a class="code hl_function" href="class_halide_1_1_func.html#aabca4df7c939e2a47246a21b34f20070">realize</a>({10});</div>
<div class="ttc" id="aclass_halide_1_1_buffer_html"><div class="ttname"><a href="class_halide_1_1_buffer.html">Halide::Buffer</a></div><div class="ttdoc">A Halide::Buffer is a named shared reference to a Halide::Runtime::Buffer.</div><div class="ttdef"><b>Definition</b> <a href="_r_dom_8h_source.html#l00021">RDom.h:21</a></div></div>
<div class="ttc" id="aclass_halide_1_1_func_html"><div class="ttname"><a href="class_halide_1_1_func.html">Halide::Func</a></div><div class="ttdoc">A halide function.</div><div class="ttdef"><b>Definition</b> <a href="_func_8h_source.html#l00700">Func.h:700</a></div></div>
<div class="ttc" id="aclass_halide_1_1_func_html_aabca4df7c939e2a47246a21b34f20070"><div class="ttname"><a href="class_halide_1_1_func.html#aabca4df7c939e2a47246a21b34f20070">Halide::Func::realize</a></div><div class="ttdeci">Realization realize(std::vector&lt; int32_t &gt; sizes={}, const Target &amp;target=Target())</div><div class="ttdoc">Evaluate this function over some rectangular domain and return the resulting buffer or buffers.</div></div>
<div class="ttc" id="aclass_halide_1_1_r_dom_html"><div class="ttname"><a href="class_halide_1_1_r_dom.html">Halide::RDom</a></div><div class="ttdoc">A multi-dimensional domain over which to iterate.</div><div class="ttdef"><b>Definition</b> <a href="_r_dom_8h_source.html#l00193">RDom.h:193</a></div></div>
<div class="ttc" id="aclass_halide_1_1_r_dom_html_a9c41992ecccbe2eea2430a65a1dc7614"><div class="ttname"><a href="#a9c41992ecccbe2eea2430a65a1dc7614">Halide::RDom::x</a></div><div class="ttdeci">RVar x</div><div class="ttdoc">Direct access to the first four dimensions of the reduction domain.</div><div class="ttdef"><b>Definition</b> <a href="_r_dom_8h_source.html#l00339">RDom.h:339</a></div></div>
<div class="ttc" id="aclass_halide_1_1_var_html"><div class="ttname"><a href="class_halide_1_1_var.html">Halide::Var</a></div><div class="ttdoc">A Halide variable, to be used when defining functions.</div><div class="ttdef"><b>Definition</b> <a href="_var_8h_source.html#l00019">Var.h:19</a></div></div>
</div><!-- fragment --><p>This function creates a single-dimensional buffer of size 10, in which element x contains the value x*2. Internally, first the initialization rule fills in x at every site, and then the update definition doubles every site.</p>
<p>One use of reductions is to build a function recursively (pure functions in halide cannot be recursive). For example, this function fills in an array with the first 20 fibonacci numbers:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_halide_1_1_func.html">Func</a> f;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_var.html">Var</a> <a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_r_dom.html">RDom</a> r(2, 18);</div>
<div class="line">f(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>) = 1;</div>
<div class="line">f(r) = f(r-1) + f(r-2);</div>
</div><!-- fragment --><p>Another use of reductions is to perform scattering operations, as unlike a pure function declaration, the left-hand-side of an update definition may contain general expressions:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_halide_1_1_image_param.html">ImageParam</a> input(<a class="code hl_function" href="namespace_halide.html#a0eb5f455b5c4bce0c54575bc67bf9599">UInt</a>(8), 2);</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_func.html">Func</a> histogram;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_var.html">Var</a> <a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_r_dom.html">RDom</a> r(input); <span class="comment">// Iterate over all pixels in the input</span></div>
<div class="line">histogram(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>) = 0;</div>
<div class="line">histogram(input(r.x, r.y)) = histogram(input(r.x, r.y)) + 1;</div>
<div class="ttc" id="aclass_halide_1_1_image_param_html"><div class="ttname"><a href="class_halide_1_1_image_param.html">Halide::ImageParam</a></div><div class="ttdoc">An Image parameter to a halide pipeline.</div><div class="ttdef"><b>Definition</b> <a href="_image_param_8h_source.html#l00023">ImageParam.h:23</a></div></div>
<div class="ttc" id="anamespace_halide_html_a0eb5f455b5c4bce0c54575bc67bf9599"><div class="ttname"><a href="namespace_halide.html#a0eb5f455b5c4bce0c54575bc67bf9599">Halide::UInt</a></div><div class="ttdeci">Type UInt(int bits, int lanes=1)</div><div class="ttdoc">Constructing an unsigned integer type.</div><div class="ttdef"><b>Definition</b> <a href="_type_8h_source.html#l00546">Type.h:546</a></div></div>
</div><!-- fragment --><p>An update definition may also be multi-dimensional. This example computes a summed-area table by first summing horizontally and then vertically:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_halide_1_1_image_param.html">ImageParam</a> input(<a class="code hl_function" href="namespace_halide.html#a11df91175e8ac20ce33379c178e8c7bc">Float</a>(32), 2);</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_func.html">Func</a> sum_x, sum_y;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_var.html">Var</a> <a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_r_dom.html">RDom</a> r(input);</div>
<div class="line">sum_x(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>)     = input(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="line">sum_x(r.x, r.y) = sum_x(r.x, r.y) + sum_x(r.x-1, r.y);</div>
<div class="line">sum_y(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>)     = sum_x(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="line">sum_y(r.x, r.y) = sum_y(r.x, r.y) + sum_y(r.x, r.y-1);</div>
<div class="ttc" id="aclass_halide_1_1_r_dom_html_ab9ec82ccc25c587c18ea174a9c7a46ff"><div class="ttname"><a href="#ab9ec82ccc25c587c18ea174a9c7a46ff">Halide::RDom::y</a></div><div class="ttdeci">RVar y</div><div class="ttdef"><b>Definition</b> <a href="_r_dom_8h_source.html#l00339">RDom.h:339</a></div></div>
<div class="ttc" id="anamespace_halide_html_a11df91175e8ac20ce33379c178e8c7bc"><div class="ttname"><a href="namespace_halide.html#a11df91175e8ac20ce33379c178e8c7bc">Halide::Float</a></div><div class="ttdeci">Type Float(int bits, int lanes=1)</div><div class="ttdoc">Construct a floating-point type.</div><div class="ttdef"><b>Definition</b> <a href="_type_8h_source.html#l00551">Type.h:551</a></div></div>
</div><!-- fragment --><p>You can also mix pure dimensions with reduction variables. In the previous example, note that there's no need for the y coordinate in sum_x to be traversed serially. The sum within each row is entirely independent. The rows could be computed in parallel, or in a different order, without changing the meaning. Therefore, we can instead write this definition as follows:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_halide_1_1_image_param.html">ImageParam</a> input(<a class="code hl_function" href="namespace_halide.html#a11df91175e8ac20ce33379c178e8c7bc">Float</a>(32), 2);</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_func.html">Func</a> sum_x, sum_y;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_var.html">Var</a> <a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>;</div>
<div class="line"><a class="code hl_class" href="class_halide_1_1_r_dom.html">RDom</a> r(input);</div>
<div class="line">sum_x(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>)   = input(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="line">sum_x(r.x, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>) = sum_x(r.x, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>) + sum_x(r.x-1, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="line">sum_y(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>)   = sum_x(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="line">sum_y(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, r.y) = sum_y(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, r.y) + sum_y(<a class="code hl_variable" href="#a9c41992ecccbe2eea2430a65a1dc7614">x</a>, r.y-1);</div>
</div><!-- fragment --><p>This lets us schedule it more flexibly. You can now parallelize the update step of sum_x over y by calling: </p><div class="fragment"><div class="line">sum_x.<a class="code hl_function" href="class_halide_1_1_func.html#a34b8c4bece8042e500f838b72ed2b718">update</a>().<a class="code hl_function" href="class_halide_1_1_stage.html#a9b4b238ac563c21c4800a43e59c42733">parallel</a>(<a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>).</div>
<div class="ttc" id="aclass_halide_1_1_func_html_a34b8c4bece8042e500f838b72ed2b718"><div class="ttname"><a href="class_halide_1_1_func.html#a34b8c4bece8042e500f838b72ed2b718">Halide::Func::update</a></div><div class="ttdeci">Stage update(int idx=0)</div><div class="ttdoc">Get a handle on an update step for the purposes of scheduling it.</div></div>
<div class="ttc" id="aclass_halide_1_1_stage_html_a9b4b238ac563c21c4800a43e59c42733"><div class="ttname"><a href="class_halide_1_1_stage.html#a9b4b238ac563c21c4800a43e59c42733">Halide::Stage::parallel</a></div><div class="ttdeci">Stage &amp; parallel(const VarOrRVar &amp;var)</div></div>
</div><!-- fragment --><p>Note that calling sum_x.parallel(y) only parallelizes the initialization step, and not the update step! Scheduling the update step of a reduction must be done using the handle returned by <a class="el" href="class_halide_1_1_func.html#a34b8c4bece8042e500f838b72ed2b718">Func::update()</a>. This code parallelizes both the initialization step and the update step:</p>
<div class="fragment"><div class="line">sum_x.<a class="code hl_function" href="class_halide_1_1_func.html#ae78db35f74950c9e9c586f6ad7a3e7e0">parallel</a>(<a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="line">sum_x.<a class="code hl_function" href="class_halide_1_1_func.html#a34b8c4bece8042e500f838b72ed2b718">update</a>().<a class="code hl_function" href="class_halide_1_1_stage.html#a9b4b238ac563c21c4800a43e59c42733">parallel</a>(<a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="ttc" id="aclass_halide_1_1_func_html_ae78db35f74950c9e9c586f6ad7a3e7e0"><div class="ttname"><a href="class_halide_1_1_func.html#ae78db35f74950c9e9c586f6ad7a3e7e0">Halide::Func::parallel</a></div><div class="ttdeci">Func &amp; parallel(const VarOrRVar &amp;var)</div><div class="ttdoc">Mark a dimension to be traversed in parallel.</div></div>
</div><!-- fragment --><p>When you mix reduction variables and pure dimensions, the reduction domain is traversed outermost. That is, for each point in the reduction domain, the inferred pure domain is traversed in its entirety. For the above example, this means that sum_x walks down the columns, and sum_y walks along the rows. This may not be cache-coherent. You may try reordering these dimensions using the schedule, but <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> will return an error if it decides that this risks changing the meaning of your function. The solution lies in clever scheduling. If we say:</p>
<div class="fragment"><div class="line">sum_x.<a class="code hl_function" href="class_halide_1_1_func.html#af4aca8ca6331e64a6fdfd98fccf1757a">compute_at</a>(sum_y, <a class="code hl_variable" href="#ab9ec82ccc25c587c18ea174a9c7a46ff">y</a>);</div>
<div class="ttc" id="aclass_halide_1_1_func_html_af4aca8ca6331e64a6fdfd98fccf1757a"><div class="ttname"><a href="class_halide_1_1_func.html#af4aca8ca6331e64a6fdfd98fccf1757a">Halide::Func::compute_at</a></div><div class="ttdeci">Func &amp; compute_at(const Func &amp;f, const Var &amp;var)</div><div class="ttdoc">Compute this function as needed for each unique value of the given var for the given calling function...</div></div>
</div><!-- fragment --><p>Then the sum in x is computed only as necessary for each scanline of the sum in y. This not only results in sum_x walking along the rows, it also improves the locality of the entire pipeline. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="tutorial_2lesson_09_update_definitions_8cpp-example.html#_a6">tutorial/lesson_09_update_definitions.cpp</a>, and <a class="el" href="tutorial_2lesson_13_tuples_8cpp-example.html#_a8">tutorial/lesson_13_tuples.cpp</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00193">193</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a67f1c2b2c0c169dfa82f9698b302d659" name="a67f1c2b2c0c169dfa82f9698b302d659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f1c2b2c0c169dfa82f9698b302d659">&#9670;&#160;</a></span>RDom() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Halide::RDom::RDom </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an undefined reduction domain. </p>

</div>
</div>
<a id="a6c0bf61061a972b499ae71c8a6d7e64f" name="a6c0bf61061a972b499ae71c8a6d7e64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0bf61061a972b499ae71c8a6d7e64f">&#9670;&#160;</a></span>RDom() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_util_8h.html#a53da0047a6b6ce91b46f76c018d63931">HALIDE_NO_USER_CODE_INLINE</a> Halide::RDom::RDom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_halide.html#adac6d1605235bf518c12a05ed6850d43">Region</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>region</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a multi-dimensional reduction domain with the given name. </p>
<p>If the name is left blank, a unique one is auto-generated. </p>

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00215">215</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

</div>
</div>
<a id="accc639933013d9a900733ae060c7058c" name="accc639933013d9a900733ae060c7058c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc639933013d9a900733ae060c7058c">&#9670;&#160;</a></span>RDom() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_util_8h.html#a53da0047a6b6ce91b46f76c018d63931">HALIDE_NO_USER_CODE_INLINE</a> Halide::RDom::RDom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_halide_1_1_expr.html">Expr</a></td>          <td class="paramname"><span class="paramname"><em>min</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_halide_1_1_expr.html">Expr</a></td>          <td class="paramname"><span class="paramname"><em>extent</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00220">220</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

</div>
</div>
<a id="ab45d552a36e2a8c8daf479fe058b1d15" name="ab45d552a36e2a8c8daf479fe058b1d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab45d552a36e2a8c8daf479fe058b1d15">&#9670;&#160;</a></span>RDom() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Halide::RDom::RDom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_halide_1_1_buffer.html">Buffer</a>&lt; void, -1 &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a reduction domain that iterates over all points in a given <a class="el" href="class_halide_1_1_buffer.html" title="A Halide::Buffer is a named shared reference to a Halide::Runtime::Buffer.">Buffer</a> or <a class="el" href="class_halide_1_1_image_param.html" title="An Image parameter to a halide pipeline.">ImageParam</a>. </p>
<p>Has the same dimensionality as the argument. </p>

</div>
</div>
<a id="ac8bd6e1c4e3b85eaca7d961ea558cfff" name="ac8bd6e1c4e3b85eaca7d961ea558cfff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8bd6e1c4e3b85eaca7d961ea558cfff">&#9670;&#160;</a></span>RDom() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Halide::RDom::RDom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_halide_1_1_output_image_param.html">OutputImageParam</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae6b9c8d233cff2113cb5aa9dc29b625e" name="ae6b9c8d233cff2113cb5aa9dc29b625e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6b9c8d233cff2113cb5aa9dc29b625e">&#9670;&#160;</a></span>RDom() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , int Dims&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_util_8h.html#a53da0047a6b6ce91b46f76c018d63931">HALIDE_NO_USER_CODE_INLINE</a> Halide::RDom::RDom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_halide_1_1_buffer.html">Buffer</a>&lt; T, Dims &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>im</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00235">235</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

</div>
</div>
<a id="a64be732e23f451c469d0c50732aebb4f" name="a64be732e23f451c469d0c50732aebb4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64be732e23f451c469d0c50732aebb4f">&#9670;&#160;</a></span>RDom() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Halide::RDom::RDom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_halide_1_1_internal_1_1_reduction_domain.html">Internal::ReductionDomain</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>d</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a reduction domain that wraps an <a class="el" href="namespace_halide_1_1_internal.html">Internal</a> ReductionDomain object. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae9ea6e69f2389b6efdfbacc399c99b46" name="ae9ea6e69f2389b6efdfbacc399c99b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ea6e69f2389b6efdfbacc399c99b46">&#9670;&#160;</a></span>domain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_halide_1_1_internal_1_1_reduction_domain.html">Internal::ReductionDomain</a> Halide::RDom::domain </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get at the internal reduction domain object that this wraps. </p>

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00244">244</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

</div>
</div>
<a id="a248780cd41a426d451fcff015e78e286" name="a248780cd41a426d451fcff015e78e286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a248780cd41a426d451fcff015e78e286">&#9670;&#160;</a></span>defined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Halide::RDom::defined </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if this reduction domain is non-null. </p>

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00249">249</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

<p class="reference">References <a class="el" href="_reduction_8h_source.html#l00064">Halide::Internal::ReductionDomain::defined()</a>.</p>

</div>
</div>
<a id="a0f046043a6c2fc7ac728d7d282f2dec6" name="a0f046043a6c2fc7ac728d7d282f2dec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f046043a6c2fc7ac728d7d282f2dec6">&#9670;&#160;</a></span>same_as()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Halide::RDom::same_as </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_halide_1_1_r_dom.html">RDom</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare two reduction domains for equality of reference. </p>

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00254">254</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

<p class="reference">References <a class="el" href="_reduction_8h_source.html#l00071">Halide::Internal::ReductionDomain::same_as()</a>.</p>

</div>
</div>
<a id="a5d8d79cee448ee0664978ee8cd98fe7b" name="a5d8d79cee448ee0664978ee8cd98fe7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8d79cee448ee0664978ee8cd98fe7b">&#9670;&#160;</a></span>dimensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Halide::RDom::dimensions </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the dimensionality of a reduction domain. </p>

</div>
</div>
<a id="ac5ee8e4fb9e9825e9276115d72f44331" name="ac5ee8e4fb9e9825e9276115d72f44331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ee8e4fb9e9825e9276115d72f44331">&#9670;&#160;</a></span>operator[]()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_halide_1_1_r_var.html">RVar</a> Halide::RDom::operator[] </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get at one of the dimensions of the reduction domain. </p>

</div>
</div>
<a id="abf382bcc7a5f800de35d136d23a9e210" name="abf382bcc7a5f800de35d136d23a9e210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf382bcc7a5f800de35d136d23a9e210">&#9670;&#160;</a></span>operator RVar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Halide::RDom::operator <a class="el" href="class_halide_1_1_r_var.html">RVar</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single-dimensional reduction domains can be used as RVars directly. </p>

</div>
</div>
<a id="ac08072d2bfc16f7da8eb1f339b0cef6f" name="ac08072d2bfc16f7da8eb1f339b0cef6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac08072d2bfc16f7da8eb1f339b0cef6f">&#9670;&#160;</a></span>operator Expr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Halide::RDom::operator <a class="el" href="struct_halide_1_1_expr.html">Expr</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Single-dimensional reduction domains can be also be used as Exprs directly. </p>

</div>
</div>
<a id="ab412e453375071f67584442a0dc71dd8" name="ab412e453375071f67584442a0dc71dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab412e453375071f67584442a0dc71dd8">&#9670;&#160;</a></span>where()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Halide::RDom::where </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_halide_1_1_expr.html">Expr</a></td>          <td class="paramname"><span class="paramname"><em>predicate</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a predicate to the <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a>. </p>
<p>An <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a> may have multiple predicates associated with it. An update definition that uses an <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a> only iterates over the subset points in the domain for which all of its predicates are true. The predicate expression obeys the same rules as the expressions used on the right-hand-side of the corresponding update definition. It may refer to the <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a>'s variables and free variables in the <a class="el" href="class_halide_1_1_func.html" title="A halide function.">Func</a>'s update definition. It may include calls to other Funcs, or make recursive calls to the same <a class="el" href="class_halide_1_1_func.html" title="A halide function.">Func</a>. This permits iteration over non-rectangular domains, or domains with sizes that vary with some free variable, or domains with shapes determined by some other <a class="el" href="class_halide_1_1_func.html" title="A halide function.">Func</a>.</p>
<p>Note that once <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a> is used in the update definition of some <a class="el" href="class_halide_1_1_func.html" title="A halide function.">Func</a>, no new predicates can be added to the <a class="el" href="class_halide_1_1_r_dom.html" title="A multi-dimensional domain over which to iterate.">RDom</a>.</p>
<p>Consider a simple example: </p><div class="fragment"><div class="line"><a class="code hl_class" href="class_halide_1_1_r_dom.html">RDom</a> r(0, 20, 0, 20);</div>
<div class="line">r.where(r.x &lt; r.y);</div>
<div class="line">r.where(r.x == 10);</div>
<div class="line">r.where(r.y &gt; 13);</div>
<div class="line">f(r.x, r.y) += 1;</div>
</div><!-- fragment --><p> This is equivalent to: </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> r.y = 0; r.y &lt; 20; r.y++) {</div>
<div class="line">  <span class="keywordflow">if</span> (r.y &gt; 13) {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r.x = 0; r.x &lt; 20; r.x++) {</div>
<div class="line">      <span class="keywordflow">if</span> (r.x == 10) {</div>
<div class="line">        <span class="keywordflow">if</span> (r.x &lt; r.y) {</div>
<div class="line">          f[r.x, r.y] += 1;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Where possible <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> restricts the range of the containing for loops to avoid the cases where the predicate is false so that the if statement can be removed entirely. The case above would be further simplified into:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> r.y = 14; r.y &lt; 20; r.y++) {</div>
<div class="line">  f[10, r.y] += 1;</div>
<div class="line">}</div>
</div><!-- fragment --><p>In general, the predicates that we can simplify away by restricting loop ranges are inequalities that compare an inner <a class="el" href="class_halide_1_1_var.html" title="A Halide variable, to be used when defining functions.">Var</a> or <a class="el" href="class_halide_1_1_r_var.html" title="A reduction variable represents a single dimension of a reduction domain (RDom).">RVar</a> to some expression in outer Vars or RVars.</p>
<p>You can also pack multiple conditions into one predicate like so:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_halide_1_1_r_dom.html">RDom</a> r(0, 20, 0, 20);</div>
<div class="line">r.where((r.x &lt; r.y) &amp;&amp; (r.x == 10) &amp;&amp; (r.y &gt; 13));</div>
<div class="line">f(r.x, r.y) += 1;</div>
</div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9c41992ecccbe2eea2430a65a1dc7614" name="a9c41992ecccbe2eea2430a65a1dc7614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c41992ecccbe2eea2430a65a1dc7614">&#9670;&#160;</a></span>x</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_halide_1_1_r_var.html">RVar</a> Halide::RDom::x</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Direct access to the first four dimensions of the reduction domain. </p>
<p>Some of these variables may be undefined if the reduction domain has fewer than four dimensions. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="tutorial_2lesson_09_update_definitions_8cpp-example.html#a7">tutorial/lesson_09_update_definitions.cpp</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00339">339</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="simd__op__check_8h_source.html#l00245">Halide::SimdOpCheckTest::check_one()</a>.</p>

</div>
</div>
<a id="ab9ec82ccc25c587c18ea174a9c7a46ff" name="ab9ec82ccc25c587c18ea174a9c7a46ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ec82ccc25c587c18ea174a9c7a46ff">&#9670;&#160;</a></span>y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_halide_1_1_r_var.html">RVar</a> Halide::RDom::y</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="tutorial_2lesson_09_update_definitions_8cpp-example.html#a8">tutorial/lesson_09_update_definitions.cpp</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00339">339</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="simd__op__check_8h_source.html#l00245">Halide::SimdOpCheckTest::check_one()</a>.</p>

</div>
</div>
<a id="a6686151e240f259d7df5b4411b58f6ba" name="a6686151e240f259d7df5b4411b58f6ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6686151e240f259d7df5b4411b58f6ba">&#9670;&#160;</a></span>z</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_halide_1_1_r_var.html">RVar</a> Halide::RDom::z</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00339">339</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

</div>
</div>
<a id="a6111104a192cc83a1fa7d58d9202b8fc" name="a6111104a192cc83a1fa7d58d9202b8fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6111104a192cc83a1fa7d58d9202b8fc">&#9670;&#160;</a></span>w</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_halide_1_1_r_var.html">RVar</a> Halide::RDom::w</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_r_dom_8h_source.html#l00339">339</a> of file <a class="el" href="_r_dom_8h_source.html">RDom.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/areinking/dev/Halide/src/<a class="el" href="_r_dom_8h_source.html">RDom.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_halide.html">Halide</a></li><li class="navelem"><a class="el" href="class_halide_1_1_r_dom.html">RDom</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
